import { EnvironmentContext, JestEnvironmentConfig } from "@jest/environment";
import type { Circus } from "@jest/types";
import { AllureRuntime, AllureTest, MetadataMessage } from "allure-js-commons";
import NodeEnvironment from "jest-environment-node";
export default class AllureJest extends NodeEnvironment {
    testRootDirPath: string;
    runtime: AllureRuntime;
    runningTests: Map<string, AllureTest>;
    constructor(config: JestEnvironmentConfig, context: EnvironmentContext);
    setup(): Promise<void>;
    teardown(): Promise<void>;
    handleAllureMetadata(payload: {
        currentTestName: string;
        metadata: MetadataMessage;
    }): void;
    handleTestEvent(event: Circus.Event, state: Circus.State): void;
    private handleTestAdd;
    private handleTestStart;
    private handleTestPass;
    private handleTestFail;
    private handleTestSkip;
    private handleTestDone;
    private handleTestTodo;
}
